<h3>A．_____の漢字の読み方を選びなさい。</h3><br>
1．外食はやめて、<u>自炊</u>をすることにしました。<br>
<input type="radio" id="q1a1" name="q1" value="a1">
<label for="q1a1">しすい</label>
<div name="q1a1check" style="display: none; color: red;">X</div><br>
<input type="radio" id="q1a2" name="q1" value="a2">
<label for="q1a2">じすい</label>
<div name="q1a2check" style="display: none; color: green;">O</div><br>
<input type="radio" id="q1a3" name="q1" value="a3">
<label for="q1a3">じたき</label>
<div name="q1a3check" style="display: none; color: red;">X</div><br>
<input type="radio" id="q1a4" name="q1" value="a4">
<label for="q1a4">じはん</label>
<div name="q1a4check" style="display: none; color: red;">X</div><br>
<br>
2．<u>冷蔵庫</u>でビールを冷やしておいてください。<br>
<input type="radio" id="q2a1" name="q2" value="a1">
<label for="q2a1">れいとうこ</label>
<div name="q2a1check" style="display: none; color: red;">X</div><br>
<input type="radio" id="q2a2" name="q2" value="a2">
<label for="q2a2">れいそうこ</label>
<div name="q2a2check" style="display: none; color: red;">X</div><br>
<input type="radio" id="q2a3" name="q2" value="a3">
<label for="q2a3">れいぞうこ</label>
<div name="q2a3check" style="display: none; color: green;">O</div><br>
<input type="radio" id="q2a4" name="q2" value="a4">
<label for="q2a4">れいぞうこう</label>
<div name="q2a4check" style="display: none; color: red;">X</div><br>
<br>
<h3>B．_____の漢字を選びなさい。</h3><br>
1．魚を<u>やいた</u>ら、こげてしまった。<br>
<input type="radio" id="q3a1" name="q3" value="a1">
<label for="q3a1">辞めた</label>
<div name="q3a1check" style="display: none; color: red;">X</div><br>
<input type="radio" id="q3a2" name="q3" value="a2">
<label for="q3a2">揚げた</label>
<div name="q3a2check" style="display: none; color: red;">X</div><br>
<input type="radio" id="q3a3" name="q3" value="a3">
<label for="q3a3">炊いた</label>
<div name="q3a3check" style="display: none; color: red;">X</div><br>
<input type="radio" id="q3a4" name="q3" value="a4">
<label for="q3a4">焼いた</label>
<div name="q3a4check" style="display: none; color: green;">O</div><br>
<br>
2．疲れた時は、<u>あまい</u>ものがほしくなる。<br>
<input type="radio" id="q4a1" name="q4" value="a1">
<label for="q4a1">甘い</label>
<div name="q4a1check" style="display: none; color: green;">O</div><br>
<input type="radio" id="q4a2" name="q4" value="a2">
<label for="q4a2">幸い</label>
<div name="q4a2check" style="display: none; color: red;">X</div><br>
<input type="radio" id="q4a3" name="q4" value="a3">
<label for="q4a3">苦い</label>
<div name="q4a3check" style="display: none; color: red;">X</div><br>
<input type="radio" id="q4a4" name="q4" value="a4">
<label for="q4a4">薄い</label>
<div name="q4a4check" style="display: none; color: red;">X</div><br>
<div name="q4note" style="display: none; color: blue;">お菓子とか</div><br>
<h3>C. 次の言葉を並べ替えて文を作りなさい。</h3><br>
<table><tr><td style="border: 1px solid; width: 25%;">A　うちに</td><td style="border: 1px solid; width: 25%;">B　掃除を</td><td style="border: 1px solid; width: 25%;">C　友達が</td></tr><tr><td style="border: 1px solid; width: 25%;">D　してしまおう</td><td style="border: 1px solid; width: 25%;">E　出かけている</td><td style="border: 1px solid; width: 25%;">F　部屋の</td></tr></table><br>
<input name="q5a1" type="text" style="text-transform: uppercase; border: 1px solid;">
<div name="q5a1check" style="display: none; color: red;">CEAFBD</div><br>
<div name="q5note" style="display: none; color: blue;">友達が出かけているうちに部屋の掃除をしてしまおう</div><br>
<table><tr><td style="border: 1px solid; width: 25%;">A　料理を</td><td style="border: 1px solid; width: 25%;">B　間</td><td style="border: 1px solid; width: 25%;">C　テレビを</td><td style="border: 1px solid; width: 25%;">D　作っている</td></tr><tr><td style="border: 1px solid; width: 25%;">E　私が</td><td style="border: 1px solid; width: 25%;">F　友達は</td><td style="border: 1px solid; width: 25%;">G　見ていた</td></tr></table><br>
<input name="q6a1" type="text" style="text-transform: uppercase; border: 1px solid;">
<div name="q6a1check" style="display: none; color: red;">EADBFCG</div><br>
<div name="q6note" style="display: none; color: blue;">私が料理を作っている間友達はテレビを見ていた</div><br>
<h3>D.　_____に入る言葉を書きなさい。</h3><br>
1.　朝から何も食べていないので、おなかが_____。<br><br>
<input name="q7a1" type="text" style="text-transform: uppercase; border: 1px solid;">
<div name="q7a1check" style="display: none; color: red;">すいています</div><br>
<div name="q7note" style="display: none; color: blue;">「すいている」や「ペコペコだ」などでもいいです。</div><br>
2.　学校でガムを_____はいけないことになっている。<br><br>
<input name="q8a1" type="text" style="text-transform: uppercase; border: 1px solid;">
<div name="q8a1check" style="display: none; color: red;">かんで</div><br>
<div name="q8note" style="display: none; color: blue;">「食べて」や「たべて」などでもいいです。</div><br>
<h3>E.　_____の漢字の読み方を書きなさい。</h3><br>
1.　お<u>弁当</u>の工場でアルバイトをしています。<br><br>
<input name="q9a1" type="text" style="text-transform: uppercase; border: 1px solid;">
<div name="q9a1check" style="display: none; color: red;">べんとう</div><br>
<br>
2.　<u>野菜</u>は新鮮なら新鮮なほどいいです。<br><br>
<input name="q10a1" type="text" style="text-transform: uppercase; border: 1px solid;">
<div name="q10a1check" style="display: none; color: red;">やさい</div><br>
<br>
<h3>F.　_____の漢字を書きなさい。</h3><br>
1.　<u>ちょうしょく</u>はきちんと取りましょう。<br><br>
<input name="q11a1" type="text" style="text-transform: uppercase; border: 1px solid;">
<div name="q11a1check" style="display: none; color: red;">朝食</div><br>
<br>
2.　<u>なま</u>の魚は食べられないんです。<br><br>
<input name="q12a1" type="text" style="text-transform: uppercase; border: 1px solid;">
<div name="q12a1check" style="display: none; color: red;">生</div><br>
<br>
<h3>G.　音を聞いて正しものを選びなさい。</h3><br>
<audio controls=""><source src="https://kij-la.weebly.com/uploads/1/3/2/5/132551079/itte.wav">Your browser does not support the audio element.</audio><br><br>
<input type="radio" id="q13a1" name="q13" value="a1">
<label for="a1">いて</label>
<div name="q13a1check" style="display: none; color: red;">X</div><br>
<input type="radio" id="q13a2" name="q13" value="a2">
<label for="a2">いって</label>
<div name="q13a2check" style="display: none; color: green;">O</div><br>
<br>
<audio controls=""><source src="https://kij-la.weebly.com/uploads/1/3/2/5/132551079/obasan.wav">Your browser does not support the audio element.</audio><br><br>
<input type="radio" id="q14a1" name="q14" value="a1">
<label for="a1">おばさん</label>
<div name="q14a1check" style="display: none; color: green;">O</div><br>
<input type="radio" id="q14a2" name="q14" value="a2">
<label for="a2">おばあさん</label>
<div name="q14a2check" style="display: none; color: red;">X</div><br>
<br>
<br>
<div name="pointsbox" style="font-size:25px;display:none;color:green"></div><br>

<button style="margin:auto;display:block;border: solid 2px" onclick="showAnswer()">チェックする</button>
<script>
function showAnswer() {
  var points = 0;
  var multiplechoice = ['q1','q2','q3','q4','q13','q14'];
  multiplechoice.forEach(function(question) {
    var selected = document.querySelector('input[name=' + question + ']:checked');
    if (selected !== null) {
      var element = document.getElementsByName(question + selected.value + "check")[0];
      element.style.display = "inline";
      if (element.textContent == "O") {
        points = points + 1;
      }
      var note = document.getElementsByName(question + "note");
      if (note.length > 0) {
        note[0].style.display = "inline";
      }
    }
  })
  var textbasedquestion = ['q5','q6','q7','q8','q9','q10','q11','q12'];
  textbasedquestion.forEach(function(question) {
    var input = document.getElementsByName(question + "a1")[0].value;
    if (input.length > 0) {
      var answerElement = document.getElementsByName(question + "a1check")[0];
      if (mapString(input).trim().toUpperCase() == answerElement.textContent) {
        answerElement.style.color = "green";
        points = points + 1;
      }
      answerElement.style.display = "inline";
      var note = document.getElementsByName(question + "note");
      if (note.length > 0) {
        note[0].style.display = "inline";
      }
    }
  })
  var totalpoints = multiplechoice.length + textbasedquestion.length;
  var pointsbox = document.getElementsByName("pointsbox")[0];
  pointsbox.style.display = "block";
  pointsbox.textContent = "結果： " + points + "/" + totalpoints;
}

function mapString(input) {
  return tr(input, "ＡａＢｂＣｃＤｄＥｅＦｆＧｇＨｈＩｉＪｊＫｋＬｌＭｍＮｎＯｏＰｐＱｑＲｒＳｓＴｔＵｕＶｖＷｗＸｘＹｙＺｚ　", "AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz ");
}

function tr( text, search, replace ) {
  // Make the search string a regex.
  var regex = RegExp( '[' + search + ']', 'g' );
  var t = text.replace( regex, 
          function( chr ) {
              // Get the position of the found character in the search string.
              var ind = search.indexOf( chr );
              // Get the corresponding character from the replace string.
              var r = replace.charAt( ind );
              return r;
          } );
  return t;
}

</script>
