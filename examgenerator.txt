<button style="margin:auto;display:inline;border:solid 1px" onclick="addTitle()">Add Section Label</button> 
<button style="margin:auto;display:inline;border:solid 1px" onclick="addSelectionQuestion()">Add Selection Question</button> 
<button style="margin:auto;display:inline;border:solid 1px" onclick="addTypingQuestion()">Add Typing Question</button> 
<button style="margin:auto;display:inline;border:solid 1px" onclick="addArrangingQuestion()">Add Arranging Question</button> 
<button style="margin:auto;display:inline;border:solid 1px" onclick="addAudioQuestion()">Add Audio question</button> 
<button style="margin:auto;display:inline;border:solid 1px" onclick="finish()">Finish</button> 
<br><br>
<div name="visualbox"></div>
<br><br>
<textarea name="codebox" style="width:90%;padding:1em;border:1px solid" rows=25></textarea>

<script>
var currentQuestion = 0;
var selectionQuestion = [];
var textbaseQuestion = [];
var codeboxElement = document.getElementsByName("codebox")[0];
var visualElement= document.getElementsByName("visualbox")[0];

function addTitle() {
  var titleElement = document.createElement('h3');
  titleElement.innerText = prompt("Section label");
  visualElement.appendChild(titleElement);
  visualElement.appendChild(document.createElement('br'));
  codeboxElement.value += titleElement.outerHTML + "<br>" + '\r\n';
}

function addTypingQuestion() {
  currentQuestion += 1;
  var question = prompt("Question text");
  var answer = prompt("Correct answer");
  var note = prompt("Any note?");
  visualElement.innerHTML += question;
  visualElement.appendChild(document.createElement('br'));
  visualElement.appendChild(document.createElement('br'));
  codeboxElement.value += question + "<br><br>" + '\r\n';
  
  var inputElement = document.createElement('input');
  inputElement.name = "q" + currentQuestion + "a1";
  inputElement.type = 'text';
  inputElement.style = 'text-transform:uppercase;border: 1px solid';
  visualElement.appendChild(inputElement);
  codeboxElement.value += inputElement.outerHTML + '\r\n';
  
  var answerElement = document.createElement('div');
  answerElement.setAttribute('name', "q" + currentQuestion + "a1check");
  answerElement.style = 'display:none;color:orange';
  answerElement.textContent = answer;
  visualElement.appendChild(answerElement);
  visualElement.appendChild(document.createElement('br'));
  codeboxElement.value += answerElement.outerHTML + "<br>" + '\r\n';

  if (note.length > 0) {
    var noteElement = document.createElement('div');
    noteElement.setAttribute('name', "q" + currentQuestion + "note");
    noteElement.style = 'display:none;color:blue';
    noteElement.textContent = note;
    visualElement.appendChild(noteElement);
    visualElement.appendChild(document.createElement('br'));
    visualElement.appendChild(document.createElement('br'));
    codeboxElement.value += noteElement.outerHTML + "<br><br>" + '\r\n';
  }
  textbaseQuestion.push("q" + currentQuestion);
}
</script>
